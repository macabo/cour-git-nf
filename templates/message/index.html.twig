{% extends 'base.html.twig' %}

{% block title %}Liste des messages{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Liste des messages</h1>
    {{ dump(messages) }} <!-- messages correspond à la variable qu'on a créé dans MessageController ( là où on fait findAll de $messagesRepository)
                            (en-dessous de 'title') -->
    
    
    
        
    
    {% for message in messages %} <!-- messages (2ème) correspond à la variable qu'on a créé dans MessageController ( là où on fait findAll de $messagesRepository)
                                        (en-dessous de 'title') -->
    
    
        <div class="media">
            <img class="d-flex mr-3" src="https://avenoel.org/images/avatars/WhyAlwaysMe_ba66a81ec2ebff2c3f630c07c16007ee.gif" alt="Generic placeholder image">
            <div class="media-body">
                <h5 class="mt-0 font-weight-bold">Envoyé par : {{ message.sender }}</h5>
                <h5 class="mt-0 font-weight-bold">Reçu par : {{ message.receiver }}</h5>
                <br>
                Message : {{ message.message }}
                <br><br>
                Envoyé le : {{ message.date|date('d-m-Y H:i') }}
                <br>
                <a href="{{ path('message_show', {'id': message.id}) }}">Voir le message</a>
            </div>
        </div>
        <br>

    {% endfor %}


</div>
{% endblock %}
